/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.courier.api.resources.messages;

import com.courier.api.core.ClientOptions;
import com.courier.api.core.IdempotentRequestOptions;
import com.courier.api.core.RequestOptions;
import com.courier.api.resources.messages.requests.GetMessageHistoryRequest;
import com.courier.api.resources.messages.requests.ListMessagesRequest;
import com.courier.api.resources.messages.types.ListMessagesResponse;
import com.courier.api.resources.messages.types.MessageDetails;
import com.courier.api.resources.messages.types.MessageDetailsExtended;
import com.courier.api.resources.messages.types.MessageHistoryResponse;
import com.courier.api.resources.messages.types.RenderOutputResponse;

public class MessagesClient {
    protected final ClientOptions clientOptions;

    private final RawMessagesClient rawClient;

    public MessagesClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new RawMessagesClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public RawMessagesClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Fetch the statuses of messages you've previously sent.
     */
    public ListMessagesResponse list() {
        return this.rawClient.list().body();
    }

    /**
     * Fetch the statuses of messages you've previously sent.
     */
    public ListMessagesResponse list(ListMessagesRequest request) {
        return this.rawClient.list(request).body();
    }

    /**
     * Fetch the statuses of messages you've previously sent.
     */
    public ListMessagesResponse list(ListMessagesRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).body();
    }

    /**
     * Fetch the status of a message you've previously sent.
     */
    public MessageDetailsExtended get(String messageId) {
        return this.rawClient.get(messageId).body();
    }

    /**
     * Fetch the status of a message you've previously sent.
     */
    public MessageDetailsExtended get(String messageId, RequestOptions requestOptions) {
        return this.rawClient.get(messageId, requestOptions).body();
    }

    /**
     * Cancel a message that is currently in the process of being delivered. A well-formatted API call to the cancel message API will return either <code>200</code> status code for a successful cancellation or <code>409</code> status code for an unsuccessful cancellation. Both cases will include the actual message record in the response body (see details below).
     */
    public MessageDetails cancel(String messageId) {
        return this.rawClient.cancel(messageId).body();
    }

    /**
     * Cancel a message that is currently in the process of being delivered. A well-formatted API call to the cancel message API will return either <code>200</code> status code for a successful cancellation or <code>409</code> status code for an unsuccessful cancellation. Both cases will include the actual message record in the response body (see details below).
     */
    public MessageDetails cancel(String messageId, IdempotentRequestOptions requestOptions) {
        return this.rawClient.cancel(messageId, requestOptions).body();
    }

    /**
     * Fetch the array of events of a message you've previously sent.
     */
    public MessageHistoryResponse getHistory(String messageId) {
        return this.rawClient.getHistory(messageId).body();
    }

    /**
     * Fetch the array of events of a message you've previously sent.
     */
    public MessageHistoryResponse getHistory(String messageId, GetMessageHistoryRequest request) {
        return this.rawClient.getHistory(messageId, request).body();
    }

    /**
     * Fetch the array of events of a message you've previously sent.
     */
    public MessageHistoryResponse getHistory(
            String messageId, GetMessageHistoryRequest request, RequestOptions requestOptions) {
        return this.rawClient.getHistory(messageId, request, requestOptions).body();
    }

    public RenderOutputResponse getContent(String messageId) {
        return this.rawClient.getContent(messageId).body();
    }

    public RenderOutputResponse getContent(String messageId, RequestOptions requestOptions) {
        return this.rawClient.getContent(messageId, requestOptions).body();
    }

    public void archive(String requestId) {
        this.rawClient.archive(requestId).body();
    }

    public void archive(String requestId, RequestOptions requestOptions) {
        this.rawClient.archive(requestId, requestOptions).body();
    }
}
